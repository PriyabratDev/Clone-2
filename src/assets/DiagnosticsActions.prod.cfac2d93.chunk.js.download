(window.webpackJsonp=window.webpackJsonp||[]).push([["DiagnosticsActions"],{"./src/common/actions/care/DiagnosticsActions.tsx":function(t,n,e){"use strict";e.r(n),e.d(n,"startFetchingDiagnosticsPage",(function(){return _})),e.d(n,"stopFetchingDiagnosticsPage",(function(){return m})),e.d(n,"setDiagnosticPageDetails",(function(){return v})),e.d(n,"setDiagnosticAddedProduct",(function(){return C})),e.d(n,"clearDiagnosticAddedProduct",(function(){return D})),e.d(n,"setDiagnosticCartReviewPage",(function(){return I})),e.d(n,"getDiagnosticPageDetails",(function(){return E})),e.d(n,"fetchDiagnosticCartAddedProducts",(function(){return P})),e.d(n,"addDiagnosticCartProduct",(function(){return w})),e.d(n,"removeDiagnosticCartProduct",(function(){return R})),e.d(n,"fetchDiagnosticCartReviewPage",(function(){return N})),e.d(n,"widgetActionHandler",(function(){return L}));var c=e("./node_modules/tslib/tslib.es6.js"),i=e("./src/common/actions/generic/ErrorActions.ts"),s=e("./src/common/actions/generic/LoaderActions.ts"),a=e("./src/client/analytics/actions/AnalyticsActions.ts"),r=e("./src/client/analytics/actions/StandardCartAction.ts"),o=e("./src/client/analytics/enumsAndConstants/ActionSource.ts"),d=e("./src/client/analytics/enumsAndConstants/constants.ts"),u=e("./src/client/analytics/enumsAndConstants/PageClickActionType.ts"),g=e("./src/common/apis/api.ts"),l=e("./src/common/constants/actionTypes/careActionTypes.ts"),b=e("./src/common/constants/ApplicationConstants.ts"),p=e("./src/common/interfaces/GenericInterfaces.ts"),A=e("./src/common/constants/actionTypes.ts"),O=e("./src/common/constants/actionTypes/loaderActionTypes.ts");var f=e("./src/common/reducers/ReducerRegistry.ts"),j=e("./src/common/utils/HelperFunctions.ts"),T=e("./src/common/utils/MicroAppUtil.ts"),y=e("./src/common/utils/RouteUtils.ts");const _=function(){return{type:l.k}},m=function(){return{type:l.j}},v=function(t){return{type:l.t,response:t}},C=function(t){return{type:l.r,cart:t}},D=function(){return{type:l.b}},I=function(t){return{type:l.s,response:t}},E=function(t,n=!0){return function(e){return Object(c.__awaiter)(void 0,void 0,void 0,(function*(){const{id:c}=t,a=`/care/diagnostics/${c}${j.e.convertQueryParamsToString(t)}`;let r;try{e(n?Object(s.d)():_()),r=yield g.a.get(a),e(v(r.data))}catch(t){const n=Object(y.e)(t,500);e(Object(i.c)(n))}finally{e(n?Object(s.a)():m())}}))}},P=function(t=!0){return function(n,e){return Object(c.__awaiter)(void 0,void 0,void 0,(function*(){let c;if(!Object(T.s)(e()))try{n(t?Object(s.d)():_()),c=yield g.a.get("/care/diagnostic/cart/web"),n(C(c.data))}catch(t){}finally{n(t?Object(s.a)():m())}}))}},w=function(t,n){return function(e){return Object(c.__awaiter)(void 0,void 0,void 0,(function*(){let c;e(_());try{c=yield h(n,!0,t),e(C(c.data))}catch(t){}finally{e(m())}}))}},R=function(t){return function(n){return Object(c.__awaiter)(void 0,void 0,void 0,(function*(){let e;n(_());try{e=yield h(t,!1),n(C(e.data))}catch(t){}finally{n(m())}}))}},h=function(t,n,e){return Object(c.__awaiter)(void 0,void 0,void 0,(function*(){const c=Object.assign({productCode:t},e?{patientId:e}:{}),i=j.e.convertQueryParamsToString(c),s=`/care/diagnosticCart/${n?"add":"remove"}${i}`;let a;return a=yield g.a.get(s),a}))},N=function(t=!1){return function(n){return Object(c.__awaiter)(void 0,void 0,void 0,(function*(){let e;n(t?_():Object(s.d)());try{e=yield g.a.get("/care/getDiagnosticCartListing "),n(I(e.data))}catch(t){const e=Object(y.e)(t,500);n(Object(i.c)(e))}finally{n(t?m():Object(s.a)())}}))}},L={[b.b.ADD_ITEM_TO_DIAGNOSTIC_CART]:function(t){return function(n){const{productCode:e,patientId:c}=t.meta,i={content_id:e,clevertapEventData:{source:o.b.CTA,actionText:t.title,actionType:u.b.CART_ITEM_ADDED,vertical:p.n.CARE_FIT}};n(Object(a.b)(i)),n(Object(r.a)({cartType:d.d.DIAGNOSTIC_CART,categoryId:d.c.LAB_TEST,janusPageSource:d.g.CareDiagnosticCartProductPage,listingPrice:d.b.NOT_AVAILABLE_IN_META,productId:e,productName:d.b.NOT_AVAILABLE_IN_META,updatedQuantity:1})),n(w(c,e))}},[b.b.REMOVE_ITEM_FROM_DIAGNOSTIC_CART]:function(t){return function(n){const{productCode:e}=t.meta,c={content_id:e,clevertapEventData:{source:o.b.CTA,actionText:t.title,actionType:u.b.CART_ITEM_REMOVED,vertical:p.n.CARE_FIT}};n(Object(a.b)(c)),n(Object(r.b)({cartType:d.d.DIAGNOSTIC_CART,categoryId:d.c.LAB_TEST,janusPageSource:d.g.CareDiagnosticCartProductPage,listingPrice:d.b.NOT_AVAILABLE_IN_META,productId:e,productName:d.b.NOT_AVAILABLE_IN_META,updatedQuantity:1})),n(R(e))}}};f.a.register("diagnostics",(function(t={error:!1,loading:!1,fetching:!1,actions:[],widgets:[],navigationAction:{},cart:{id:"",itemCount:0,addedProducts:{},patientDetails:{},testAndReportDescription:"",toolTipContent:{title:"",subTitle:""}},cartReview:{action:void 0,widgets:[],leftWidgets:[],rightWidgets:[],pageTitle:""}},n){switch(n.type){case O.d:return Object.assign(Object.assign({},t),{loading:!0});case O.a:return Object.assign(Object.assign({},t),{loading:!1});case l.k:case A.yb:return Object.assign(Object.assign({},t),{fetching:!0});case l.j:case A.xb:return Object.assign(Object.assign({},t),{fetching:!1});case A.Ye:return Object.assign(Object.assign({},t),{error:!0});case A.pc:return Object.assign(Object.assign({},t),{error:!1});case l.t:return Object.assign(Object.assign({},t),n.response);case l.r:return Object.assign(Object.assign({},t),{cart:n.cart});case l.b:return Object.assign(Object.assign({},t),{cart:{id:"",itemCount:0,addedProducts:{},patientDetails:{},testAndReportDescription:"",toolTipContent:{title:"",subTitle:""}}});case l.s:return Object.assign(Object.assign({},t),{cartReview:Object.assign(Object.assign(Object.assign({},t.cartReview),n.response),{action:n.response.action?n.response.action:void 0})});default:return t}}))}}]);